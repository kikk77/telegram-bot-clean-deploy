# Railwayéƒ¨ç½²é…ç½®
# 
# ğŸš€ Botåˆ‡æ¢éƒ¨ç½²è¯´æ˜ï¼š
# åœ¨Railway Variablesä¸­è®¾ç½®ä»¥ä¸‹å˜é‡ï¼š
# BOT_TOKEN=6873045781:AAGNvdO8TaJbOhGo5v-4NQmSU4Sd1KdKbRo (ç”Ÿäº§Bot Token)
# BOT_USERNAME=xiaojisystembot (ç”Ÿäº§Botç”¨æˆ·å)
# GROUP_CHAT_ID=-1002793326688 (ç›®æ ‡ç¾¤ç»„ID)
#
# âš ï¸ é‡è¦ï¼šåˆ‡æ¢Botå‰ç¡®ä¿ï¼š
# 1. æ–°Botå·²æ·»åŠ åˆ°ç›®æ ‡ç¾¤ç»„
# 2. æ–°Botå·²è·å¾—ç¾¤ç»„ç®¡ç†å‘˜æƒé™
# 3. æ—§Botå®ä¾‹å·²åœæ­¢ï¼ˆé¿å…å†²çªï¼‰

[build]
builder = "nixpacks"
watchPatterns = ["app.js", "services/**", "models/**"]
buildCommand = "npm install"

[deploy]
startCommand = "npm run railway"
healthcheckPath = "/health"
healthcheckTimeout = 30
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 3

# Volumeé…ç½® - æ•°æ®æŒä¹…åŒ–
[[deploy.volumes]]
mountPath = "/app/data"
name = "telegram-bot-data"

[env]
NODE_ENV = "production" 
PORT = "3000"

[[ports]]
port = 3000
internal = false 

[[ports]]
port = 3001
internal = false

[variables]
PORT_HEALTH = "3001" 